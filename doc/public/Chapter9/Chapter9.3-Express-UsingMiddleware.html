
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>Using Middleware Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.2">
        
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="Chapter9.4-Express-RouterApiDocumentation.html" />
    
    
    <link rel="prev" href="Chapter9.2-Express-RoutingGuide.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    Introduction
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../Chapter1/Chapter1-NodeJS.html">
            
                <a href="../Chapter1/Chapter1-NodeJS.html">
            
                    
                    NodeJS
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../Chapter2/Chapter2-Git.html">
            
                <a href="../Chapter2/Chapter2-Git.html">
            
                    
                    Git
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../Chapter2/Chapter2.1-GitLinux.html">
            
                <a href="../Chapter2/Chapter2.1-GitLinux.html">
            
                    
                    Git Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../Chapter2/Chapter2.2-GitWindows.html">
            
                <a href="../Chapter2/Chapter2.2-GitWindows.html">
            
                    
                    Git Windows
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.4" data-path="../Chapter3/Chapter3-Github.html">
            
                <a href="../Chapter3/Chapter3-Github.html">
            
                    
                    GitHub
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.5" data-path="../Chapter4/Chapter4-Markdown.html">
            
                <a href="../Chapter4/Chapter4-Markdown.html">
            
                    
                    Markdowm
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.6" data-path="../Chapter5/Chapter5-Gitbook.html">
            
                <a href="../Chapter5/Chapter5-Gitbook.html">
            
                    
                    GitBook
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7" data-path="../Chapter6/Chapter6-pandoc.html">
            
                <a href="../Chapter6/Chapter6-pandoc.html">
            
                    
                    Pandoc
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.7.1" data-path="../Chapter6/Chapter6.1-pandocLinux.html">
            
                <a href="../Chapter6/Chapter6.1-pandocLinux.html">
            
                    
                    Pandoc Linux
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.2" data-path="../Chapter6/Chapter6.2-pandocWindows.html">
            
                <a href="../Chapter6/Chapter6.2-pandocWindows.html">
            
                    
                    Pandoc Windows
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.7.3" data-path="../Chapter6/Chapter6.3-pandocMacOS.html">
            
                <a href="../Chapter6/Chapter6.3-pandocMacOS.html">
            
                    
                    Pandoc MacOS
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.8" data-path="../Chapter7/Chapter7-Cloud9.html">
            
                <a href="../Chapter7/Chapter7-Cloud9.html">
            
                    
                    Cloud9
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.9" data-path="../Chapter8/Chapter8-Atom.html">
            
                <a href="../Chapter8/Chapter8-Atom.html">
            
                    
                    Atom
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10" data-path="Chapter9-Express-Introduction.html">
            
                <a href="Chapter9-Express-Introduction.html">
            
                    
                    Express
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.10.1" data-path="Chapter9.1-Express-BasicRouting.html">
            
                <a href="Chapter9.1-Express-BasicRouting.html">
            
                    
                    BasicRouting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.2" data-path="Chapter9.2-Express-RoutingGuide.html">
            
                <a href="Chapter9.2-Express-RoutingGuide.html">
            
                    
                    RoutingGuide
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="1.10.3" data-path="Chapter9.3-Express-UsingMiddleware.html">
            
                <a href="Chapter9.3-Express-UsingMiddleware.html">
            
                    
                    Using Middleware
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.10.4" data-path="Chapter9.4-Express-RouterApiDocumentation.html">
            
                <a href="Chapter9.4-Express-RouterApiDocumentation.html">
            
                    
                    Router API Documentation
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.11" data-path="../Chapter10/Chapter10-Cookies-ExpressJS.html">
            
                <a href="../Chapter10/Chapter10-Cookies-ExpressJS.html">
            
                    
                    Cookies
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.12" data-path="../Chapter11/Chapter11-Authentication-ExpressJS.html">
            
                <a href="../Chapter11/Chapter11-Authentication-ExpressJS.html">
            
                    
                    Authentication
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.13" data-path="../Chapter12/OOP.html">
            
                <a href="../Chapter12/OOP.html">
            
                    
                    OOP javascript
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >Using Middleware</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="usando-middleware">Usando Middleware</h1>
<p>Express es un framework web de enrutamiento y middleware, que tiene una funcionalidad caracter&#xED;stica propia: Una aplicaci&#xF3;n Express es, fundamentalmente, una serie de llamadas a funci&#xF3;n middleware. </p>
<p>Las funciones middleware son funciones que tienen acceso a los objetos de tipo petici&#xF3;n(req), a los objetos de tipo respuesta(res), y la siguiente funci&#xF3;n de middleware en el ciclo solicitud respuesta de la aplicaci&#xF3;n. La siguiente funci&#xF3;n middleware es comunmente next.</p>
<p>Las funciones middleware pueden llevar a cabo las siguientes tareas:</p>
<ul>
<li>Ejecutar cualquier c&#xF3;digo.</li>
<li>Hacer cambios en los objetos de tipo petici&#xF3;n y respuesta.</li>
<li>Terminar el ciclo petici&#xF3;n-respuesta.</li>
<li>Llamar a la siguiente funci&#xF3;n middleware.</li>
</ul>
<p>Si la actual funci&#xF3;n middleware no termina el ciclo petici&#xF3;n-respuesta, debe llamar a la funci&#xF3;n next() para pasar el control a la siguiente funci&#xF3;n middleware. De otra forma, la petici&#xF3;n se quedar&#xE1; colgada.</p>
<p>Una aplicaci&#xF3;n Express puede utilizar los siguientes tipos de middleware:</p>
<ul>
<li>A nivel de aplicaci&#xF3;n.</li>
<li>A nivel de router.</li>
<li>Manipulaci&#xF3;n de errores.</li>
<li>Middleware integrado.</li>
<li>Middleware de terceros.</li>
</ul>
<h2 id="middleware-a-nivel-de-aplicaci&#xF3;n">Middleware a nivel de aplicaci&#xF3;n</h2>
<p>Se puede vincular el middleware de nivel de aplicaci&#xF3;n a una instancia del objeto de aplicaci&#xF3;n(app object) usando las funciones <code>app.use()</code> y <code>app.METHOD()</code>, donde METHOD es el m&#xE9;todo HTTP para las peticiones que la funci&#xF3;n middleware maneja(como GET, PUT o POST) en min&#xFA;scula.</p>
<h2 id="middleware-a-nivel-de-router">Middleware a nivel de router</h2>
<p>Este tipo de middleware funciona de forma similar al middleware a nivel de aplicaci&#xF3;n, pero con la diferencia de que est&#xE1; enlazado a una instancia de <strong>express.Router()</strong>.</p>
<h2 id="middleware-para-manipulaci&#xF3;n-de-errores">Middleware para manipulaci&#xF3;n de errores</h2>
<p>A la hora de definir este tipo de middleware se hace de la misma manera que el resto de funciones middleware, pero se le pasan cuatro argumento en vez de tres, de la siguiente manear (err, req, res, next).</p>
<h2 id="middleware-integrado">Middleware integrado</h2>
<p>A partir de la versi&#xF3;n 4.x, Express no depende de Connect. Con la excepci&#xF3;n de express.static, todas las funciones middleware que anteriormente fueron incluidas con Express est&#xE1;n ahora separadas en modulos. </p>
<p>La &#xFA;nica funci&#xF3;n middleware integrada en Express es express.static. Esta funci&#xF3;n esta basada en serve-static, y es responsable de proporcionar activos est&#xE1;ticos como archivos HTML, im&#xE1;genes, etc.</p>
<h2 id="middleware-de-terceros">Middleware de terceros</h2>
<p>Se utilizan para a&#xF1;adir funcionalidad a las aplicaciones Express. </p>
<p>Instala el modulo Node.js para la funcionalidad requerida, luego cargala en tu aplicaci&#xF3;n en el nivel de aplicaci&#xF3;n o en el nivel de router.</p>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="Chapter9.2-Express-RoutingGuide.html" class="navigation navigation-prev " aria-label="Previous page: RoutingGuide">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="Chapter9.4-Express-RouterApiDocumentation.html" class="navigation navigation-next " aria-label="Next page: Router API Documentation">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"Using Middleware","level":"1.10.3","depth":2,"next":{"title":"Router API Documentation","level":"1.10.4","depth":2,"path":"Chapter9/Chapter9.4-Express-RouterApiDocumentation.md","ref":"Chapter9/Chapter9.4-Express-RouterApiDocumentation.md","articles":[]},"previous":{"title":"RoutingGuide","level":"1.10.2","depth":2,"path":"Chapter9/Chapter9.2-Express-RoutingGuide.md","ref":"Chapter9/Chapter9.2-Express-RoutingGuide.md","articles":[]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Chapter9/Chapter9.3-Express-UsingMiddleware.md","mtime":"2017-03-26T23:33:11.000Z","type":"markdown"},"gitbook":{"version":"3.2.2","time":"2017-03-26T23:37:08.134Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

